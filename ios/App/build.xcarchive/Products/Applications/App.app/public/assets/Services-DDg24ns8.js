import{aC as G,aD as F,u as z,r as y,c as L,aF as R,b4 as K,aG as l,aN as f,aH as r,aI as e,aS as J,b5 as E,aM as Y,aJ as o,aW as H,aX as W,bI as I,aE as X,o as q,aK as N,aL as P,aO as V}from"./index-BYuuB5GE.js";import{u as Q}from"./serviceCategoriesStore-BY_eSJkP.js";import{M as ee}from"./ModalHeader-C7UKSo1F.js";const se={class:"modal-body"},te={class:"booking-overview"},oe={class:"overview-card"},ie={class:"card-header"},ne={class:"card-title"},ae={class:"card-content"},le={class:"detail-row"},re={class:"detail-value"},de={class:"detail-row"},ce={class:"detail-value"},ue={class:"detail-row"},ve={class:"detail-value price"},ge={key:0,class:"detail-row"},he={class:"detail-value"},ke={class:"overview-card"},pe={class:"card-content"},we={class:"detail-row"},me={class:"detail-value"},fe={class:"detail-row"},_e={class:"detail-value"},ye={class:"detail-row"},Ce={class:"detail-value"},be={class:"detail-row"},Me={class:"detail-value"},Be={class:"overview-card"},$e={class:"card-header"},Se={key:0,class:"unread-indicator"},Le={class:"unread-count"},xe={class:"card-content"},je={class:"detail-row"},Te={class:"detail-value"},De={class:"detail-row"},Ne={class:"detail-value"},Pe={key:0,class:"detail-row"},Ve={class:"detail-value unread"},He={class:"detail-row"},Ie={class:"detail-value"},Ae={class:"action-buttons"},Oe={key:0,class:"chat-badge"},Re=Object.assign({name:"ServiceBookingModal"},{__name:"ServiceBookingModal",props:{isOpen:{type:Boolean,default:!1},booking:{type:Object,default:null}},emits:["close","openChat"],setup(c,{emit:_}){const u=c,h=_,C=F(),b=z(),k=y(null),p=y(null),d=L(()=>k.value||u.booking),M=L(()=>d.value?.messages?.length||0),m=L(()=>{if(!d.value?.messages||d.value.messages.length===0)return 0;const a=localStorage.getItem(`lastReadMessage_${d.value.id}`);if(!a)return d.value.messages.filter(v=>v.senderType==="admin"||v.senderType==="system").length;const s=d.value.messages.findIndex(v=>v.id===a);return s===-1?d.value.messages.filter(v=>v.senderType==="admin"||v.senderType==="system").length:d.value.messages.slice(s+1).filter(v=>v.senderType==="admin"||v.senderType==="system").length}),x=L(()=>{if(!d.value?.messages||d.value.messages.length===0)return"No messages yet";const a=d.value.messages[d.value.messages.length-1];if(a.messageType==="status_update")return"Status updated";if(a.messageType==="details_update")return"Details updated";{const s=a.text||"New message";return s.length>50?s.substring(0,50)+"...":s}});R(()=>u.booking?.id,async a=>{a&&u.isOpen&&await j(a)},{immediate:!0}),R(()=>u.isOpen,async a=>{a&&u.booking?.id?await j(u.booking.id):B()});const j=async a=>{if(!(!b.selectedProject?.id||!a)){B();try{const s=await I.onServiceBookingChange(b.selectedProject.id,a,T=>{k.value=T});p.value=s}catch(s){console.error("❌ ServiceBookingModal: Error setting up real-time listener:",s),p.value=null}}},B=()=>{p.value&&(p.value(),p.value=null)},S=()=>{h("close"),B(),k.value=null},A=()=>{if(console.log("🔍 ServiceBookingModal: openChat called",{bookingId:d.value?.id,booking:d.value,realtimeBooking:k.value,propsBooking:u.booking}),!d.value?.id){console.error("❌ ServiceBookingModal: No booking ID available",{currentBooking:d.value,realtimeBooking:k.value,propsBooking:u.booking});return}if(d.value.messages&&d.value.messages.length>0){const s=d.value.messages[d.value.messages.length-1];localStorage.setItem(`lastReadMessage_${d.value.id}`,s.id)}S();const a=`/service-booking-chat/${d.value.id}`;console.log("🚀 ServiceBookingModal: Navigating to chat route:",a),C.push(a).then(()=>{console.log("✅ ServiceBookingModal: Navigation successful to:",a)}).catch(s=>{console.error("❌ ServiceBookingModal: Navigation failed:",s),console.error("❌ ServiceBookingModal: Navigation error details:",{message:s.message,code:s.code,stack:s.stack})})},O=a=>{if(!a)return"Not set";let s;return a.includes("-")?s=new Date(a+"T00:00:00"):s=new Date(a),isNaN(s.getTime())?a:s.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",weekday:"long"})},$=a=>{if(!a)return"Not available";let s;return a.seconds?s=new Date(a.seconds*1e3):a.toDate?s=a.toDate():s=new Date(a),isNaN(s.getTime())?"Invalid date":s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})};return K(()=>{B()}),(a,s)=>c.isOpen?(r(),l("div",{key:0,class:"modal-overlay",onClick:S},[e("div",{class:"modal-content",onClick:s[0]||(s[0]=W(()=>{},["stop"]))},[J(ee,{title:c.booking?.serviceName||"Service Booking",subtitle:"Booking details",onClose:S},{icon:E(()=>[...s[1]||(s[1]=[e("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M14.7 6.3A1 1 0 0 0 14 7H9.5L8.5 8L9.5 9H14A1 1 0 0 0 14.7 9.7L18.3 13.3A1 1 0 0 0 19.7 11.7L16.1 8.1L14.7 6.3Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),right:E(()=>[e("span",{class:Y(["status-badge",c.booking?.status?.toLowerCase()])},o(c.booking?.status||"Loading..."),3)]),_:1},8,["title"]),e("div",se,[e("div",te,[e("div",oe,[e("div",ie,[s[3]||(s[3]=e("div",{class:"card-icon service"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M14.7 6.3A1 1 0 0 0 14 7H9.5L8.5 8L9.5 9H14A1 1 0 0 0 14.7 9.7L18.3 13.3A1 1 0 0 0 19.7 11.7L16.1 8.1L14.7 6.3Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("div",ne,[s[2]||(s[2]=e("h3",null,"Service Details",-1)),e("p",null,o(c.booking?.categoryName),1)])]),e("div",ae,[e("div",le,[s[4]||(s[4]=e("span",{class:"detail-label"},"Service",-1)),e("span",re,o(c.booking?.serviceName),1)]),e("div",de,[s[5]||(s[5]=e("span",{class:"detail-label"},"Category",-1)),e("span",ce,o(c.booking?.categoryName),1)]),e("div",ue,[s[6]||(s[6]=e("span",{class:"detail-label"},"Price",-1)),e("span",ve,"EGP "+o(c.booking?.servicePrice),1)]),c.booking?.notes?(r(),l("div",ge,[s[7]||(s[7]=e("span",{class:"detail-label"},"Notes",-1)),e("span",he,o(c.booking?.notes),1)])):f("",!0)])]),e("div",ke,[s[12]||(s[12]=H('<div class="card-header" data-v-885d4f10><div class="card-icon schedule" data-v-885d4f10><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-885d4f10><rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="2" data-v-885d4f10></rect><line x1="16" y1="2" x2="16" y2="6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-885d4f10></line><line x1="8" y1="2" x2="8" y2="6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-885d4f10></line><line x1="3" y1="10" x2="21" y2="10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-885d4f10></line></svg></div><div class="card-title" data-v-885d4f10><h3 data-v-885d4f10>Schedule</h3><p data-v-885d4f10>Booking timing details</p></div></div>',1)),e("div",pe,[e("div",we,[s[8]||(s[8]=e("span",{class:"detail-label"},"Booking Date",-1)),e("span",me,o(O(c.booking?.selectedDate)),1)]),e("div",fe,[s[9]||(s[9]=e("span",{class:"detail-label"},"Booking Time",-1)),e("span",_e,o(c.booking?.selectedTime||"Not specified"),1)]),e("div",ye,[s[10]||(s[10]=e("span",{class:"detail-label"},"Created On",-1)),e("span",Ce,o($(c.booking?.createdAt)),1)]),e("div",be,[s[11]||(s[11]=e("span",{class:"detail-label"},"Last Updated",-1)),e("span",Me,o($(c.booking?.updatedAt)),1)])])]),e("div",Be,[e("div",$e,[s[13]||(s[13]=e("div",{class:"card-icon communication"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),s[14]||(s[14]=e("div",{class:"card-title"},[e("h3",null,"Communication"),e("p",null,"Chat with admin")],-1)),m.value>0?(r(),l("div",Se,[e("span",Le,o(m.value),1)])):f("",!0)]),e("div",xe,[e("div",je,[s[15]||(s[15]=e("span",{class:"detail-label"},"Total Messages",-1)),e("span",Te,o(M.value),1)]),e("div",De,[s[16]||(s[16]=e("span",{class:"detail-label"},"Last Activity",-1)),e("span",Ne,o($(c.booking?.lastMessageAt)),1)]),m.value>0?(r(),l("div",Pe,[s[17]||(s[17]=e("span",{class:"detail-label"},"Unread Messages",-1)),e("span",Ve,o(m.value)+" new message"+o(m.value>1?"s":""),1)])):f("",!0),e("div",He,[s[18]||(s[18]=e("span",{class:"detail-label"},"Last Message",-1)),e("span",Ie,o(x.value),1)])])])]),e("div",Ae,[e("button",{onClick:A,class:"chat-btn"},[s[19]||(s[19]=e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),s[20]||(s[20]=e("span",null,"Chat with Admin",-1)),m.value>0?(r(),l("span",Oe,o(m.value),1)):f("",!0)])])])])])):f("",!0)}}),Ue=G(Re,[["__scopeId","data-v-885d4f10"]]),Ze={class:"services-page"},Ee={class:"hero-section"},Ge={class:"hero-content"},Fe={class:"hero-text"},ze={class:"hero-title"},Je={class:"hero-subtitle"},Ye={class:"tabs-container"},Ke={class:"tabs-nav"},We=["onClick"],Xe={class:"tab-icon"},qe={class:"tab-label"},Qe={key:0,class:"tab-count"},es={class:"tab-content"},ss={key:0,class:"services-content"},ts={key:0,class:"loading-container"},os={key:1,class:"error-container"},is={key:2,class:"services-grid"},ns=["onClick"],as={class:"service-icon"},ls=["src","alt"],rs={key:1,width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"default-icon"},ds={class:"service-content"},cs={class:"service-name"},us={class:"service-content"},vs={class:"service-name"},gs={class:"service-description"},hs={class:"facility-content"},ks={class:"facility-name"},ps={class:"facility-description"},ws={class:"facility-content"},ms={class:"facility-name"},fs={class:"facility-description"},_s={class:"facility-content"},ys={class:"facility-name"},Cs={class:"facility-description"},bs={key:1,class:"bookings-content"},Ms={key:0,class:"loading-container"},Bs={key:1,class:"empty-state"},$s={key:2,class:"bookings-list"},Ss=["onClick"],Ls={class:"booking-header"},xs={class:"booking-title"},js={class:"header-right"},Ts={class:"booking-status open"},Ds={key:0,class:"unread-badge"},Ns={class:"booking-details"},Ps={class:"booking-category"},Vs={class:"booking-date"},Hs={class:"booking-price"},Is={class:"booking-footer"},As={class:"last-message"},Os={class:"booking-time"},Rs={key:2,class:"bookings-content"},Us={key:0,class:"loading-container"},Zs={key:1,class:"empty-state"},Es={key:2,class:"bookings-list"},Gs=["onClick"],Fs={class:"booking-header"},zs={class:"booking-title"},Js={class:"header-right"},Ys={class:"booking-status closed"},Ks={key:0,class:"unread-badge"},Ws={class:"booking-details"},Xs={class:"booking-category"},qs={class:"booking-date"},Qs={class:"booking-price"},et={class:"booking-footer"},st={class:"last-message"},tt={class:"booking-time"},ot=Object.assign({name:"ServicesPage"},{__name:"Services",setup(c){const _=F(),u=Q(),h=z(),C=y("services"),b=y(!1),k=y([]),p=y([]),d=y(!1),M=y(null),m=L(()=>[{id:"services",label:"Services",icon:""},{id:"open",label:"Open",icon:"",count:k.value.length},{id:"closed",label:"Closed",icon:"",count:p.value.length}]);X(async()=>{h.selectedProject?.id&&(await x(),await $())}),R(()=>h.selectedProject?.id,async t=>{t&&await $()});const x=async()=>{h.selectedProject?.id&&await u.fetchCategories(h.selectedProject.id)},j=t=>{_.push(`/service-category/${t.id}`)},B=()=>{_.push("/court-booking")},S=()=>{_.push("/academy-programs")},A=()=>{_.push("/stores-shopping")},O=()=>{_.push("/smart-devices")},$=async()=>{if(h.selectedProject?.id)try{b.value=!0;const t=await q.getCurrentUser();if(!t){console.error("User not authenticated");return}const[i,n,g]=await Promise.all([I.getServiceBookingsByStatus(h.selectedProject.id,t.uid,"open"),I.getServiceBookingsByStatus(h.selectedProject.id,t.uid,"processing"),I.getServiceBookingsByStatus(h.selectedProject.id,t.uid,"closed")]);k.value=[...i,...n],p.value=g}catch(t){console.error("Error loading bookings:",t)}finally{b.value=!1}},a=t=>{console.log("🔍 Services: openBookingModal called",{bookingId:t?.id,booking:t}),M.value=t,d.value=!0,console.log("🔍 Services: Modal state updated",{showBookingModal:d.value,selectedBooking:M.value})},s=()=>{d.value=!1,M.value=null},T=t=>{_.push(`/service-booking-chat/${t.id}`)},v=t=>{if(!t)return"";let i;return t.includes("-")?i=new Date(t+"T00:00:00"):i=new Date(t),isNaN(i.getTime())?t:i.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},U=t=>{if(!t)return"";let i;t.seconds?i=new Date(t.seconds*1e3):i=new Date(t);const g=Math.floor((new Date-i)/(1e3*60));return g<1?"Just now":g<60?`${g}m ago`:g<1440?`${Math.floor(g/60)}h ago`:i.toLocaleDateString("en-US",{month:"short",day:"numeric"})},D=t=>{if(!t.messages||t.messages.length===0)return 0;const i=localStorage.getItem(`lastReadMessage_${t.id}`);if(!i)return t.messages.filter(w=>w.senderType==="admin"||w.senderType==="system").length;const n=t.messages.findIndex(w=>w.id===i);return n===-1?t.messages.filter(w=>w.senderType==="admin"||w.senderType==="system").length:t.messages.slice(n+1).filter(w=>w.senderType==="admin"||w.senderType==="system").length},Z=t=>{if(!t.messages||t.messages.length===0)return"No messages yet";const i=t.messages[t.messages.length-1];if(i.messageType==="status_update")return"Status updated";if(i.messageType==="details_update")return"Details updated";{const n=i.text||"New message";return n.length>40?n.substring(0,40)+"...":n}};return(t,i)=>(r(),l("div",Ze,[e("div",Ee,[e("div",Ge,[e("div",Fe,[e("h1",ze,o(t.$t("servicesTitle")),1),e("p",Je,o(t.$t("servicesSubtitle")),1)])])]),e("div",Ye,[e("div",Ke,[(r(!0),l(N,null,P(m.value,n=>(r(),l("button",{key:n.id,class:Y(["tab-btn",{active:C.value===n.id}]),onClick:g=>C.value=n.id},[e("span",Xe,o(n.icon),1),e("span",qe,o(n.label),1),n.count!==void 0?(r(),l("span",Qe,o(n.count),1)):f("",!0)],10,We))),128))])]),e("div",es,[C.value==="services"?(r(),l("div",ss,[V(u).isLoading?(r(),l("div",ts,[i[0]||(i[0]=e("div",{class:"loading-spinner"},null,-1)),e("p",null,o(t.$t("loadingServices")),1)])):V(u).getError?(r(),l("div",os,[e("p",null,o(V(u).getError),1),e("button",{onClick:x,class:"retry-btn"},o(t.$t("retry")),1)])):(r(),l("div",is,[(r(!0),l(N,null,P(V(u).getCategories,n=>(r(),l("div",{key:n.id,class:"service-card",onClick:g=>j(n)},[e("div",as,[n.imageUrl?(r(),l("img",{key:0,src:n.imageUrl,alt:n.englishTitle,class:"service-image"},null,8,ls)):(r(),l("svg",rs,[...i[1]||(i[1]=[e("path",{d:"M14.7 6.3C14.7 4.4 13.3 3 11.4 3C9.5 3 8.1 4.4 8.1 6.3C8.1 8.2 9.5 9.6 11.4 9.6C13.3 9.6 14.7 8.2 14.7 6.3Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),e("path",{d:"M20 12C20 16.4 16.4 20 12 20C7.6 20 4 16.4 4 12C4 7.6 7.6 4 12 4C16.4 4 20 7.6 20 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),e("path",{d:"M12 8V12L15 15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])]))]),e("div",ds,[e("h3",cs,o(n.englishTitle),1)]),i[2]||(i[2]=e("div",{class:"service-arrow"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M9 18L15 12L9 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))],8,ns))),128)),e("div",{class:"service-card",onClick:O},[i[3]||(i[3]=H('<div class="service-icon" data-v-820c465f><svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-820c465f><path d="M9 21C9 21.5523 9.44772 22 10 22H14C14.5523 22 15 21.5523 15 21V20H9V21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-820c465f></path><path d="M12 2V4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-820c465f></path><path d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-820c465f></path></svg></div>',1)),e("div",us,[e("h3",vs,o(t.$t("smartDevicesTitle")),1),e("p",gs,o(t.$t("smartDevicesDesc")),1)]),i[4]||(i[4]=e("div",{class:"service-arrow"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M9 18L15 12L9 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))]),e("div",{class:"facility-card",onClick:B},[i[5]||(i[5]=e("div",{class:"facility-icon"},[e("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("polyline",{points:"9,22 9,12 15,12 15,22",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("div",hs,[e("h3",ks,o(t.$t("courtBookingTitle")),1),e("p",ps,o(t.$t("courtBookingDesc")),1)]),i[6]||(i[6]=e("div",{class:"facility-arrow"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M9 18L15 12L9 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))]),e("div",{class:"facility-card",onClick:S},[i[7]||(i[7]=H('<div class="facility-icon" data-v-820c465f><svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-820c465f><path d="M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C14.0783 15.4214 13.0609 15 12 15C10.9391 15 9.92172 15.4214 9.17157 16.1716C8.42143 16.9217 8 17.9391 8 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-820c465f></path><circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-820c465f></circle><path d="M12 11V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-820c465f></path><path d="M9 13H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-820c465f></path></svg></div>',1)),e("div",ws,[e("h3",ms,o(t.$t("academyProgramsTitle")),1),e("p",fs,o(t.$t("academyProgramsDesc")),1)]),i[8]||(i[8]=e("div",{class:"facility-arrow"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M9 18L15 12L9 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))]),e("div",{class:"facility-card",onClick:A},[i[9]||(i[9]=H('<div class="facility-icon" data-v-820c465f><svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-820c465f><path d="M6 2L3 6V20C3 20.5304 3.21071 21.0391 3.58579 21.4142C3.96086 21.7893 4.46957 22 5 22H19C19.5304 22 20.0391 21.7893 20.4142 21.4142C20.7893 21.0391 21 20.5304 21 20V6L18 2H6Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-820c465f></path><path d="M3 6H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-820c465f></path><path d="M16 10C16 11.0609 15.5786 12.0783 14.8284 12.8284C14.0783 13.5786 13.0609 14 12 14C10.9391 14 9.92172 13.5786 9.17157 12.8284C8.42143 12.0783 8 11.0609 8 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-820c465f></path></svg></div>',1)),e("div",_s,[e("h3",ys,o(t.$t("shoppingTitle")),1),e("p",Cs,o(t.$t("shoppingDesc")),1)]),i[10]||(i[10]=e("div",{class:"facility-arrow"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M9 18L15 12L9 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))])]))])):C.value==="open"?(r(),l("div",bs,[b.value?(r(),l("div",Ms,[...i[11]||(i[11]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"Loading open bookings...",-1)])])):k.value.length===0?(r(),l("div",Bs,[...i[12]||(i[12]=[e("div",{class:"empty-icon"},[e("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("circle",{cx:"12",cy:"12",r:"10",stroke:"#ccc","stroke-width":"2"}),e("path",{d:"M12 8V12L15 15",stroke:"#ccc","stroke-width":"2","stroke-linecap":"round"})])],-1),e("h3",null,"No Open Bookings",-1),e("p",null,"You don't have any open service bookings at the moment.",-1)])])):(r(),l("div",$s,[(r(!0),l(N,null,P(k.value,n=>(r(),l("div",{key:n.id,class:"booking-card",onClick:g=>a(n)},[e("div",Ls,[e("h3",xs,o(n.serviceName),1),e("div",js,[e("span",Ts,o(n.status),1),D(n)>0?(r(),l("div",Ds,o(D(n)),1)):f("",!0)])]),e("div",Ns,[e("p",Ps,o(n.categoryName),1),e("p",Vs,o(v(n.selectedDate)),1),e("p",Hs,"EGP "+o(n.servicePrice),1)]),e("div",Is,[e("span",As,o(Z(n)),1),e("span",Os,o(U(n.lastMessageAt)),1)])],8,Ss))),128))]))])):C.value==="closed"?(r(),l("div",Rs,[b.value?(r(),l("div",Us,[...i[13]||(i[13]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"Loading closed bookings...",-1)])])):p.value.length===0?(r(),l("div",Zs,[...i[14]||(i[14]=[e("div",{class:"empty-icon"},[e("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("circle",{cx:"12",cy:"12",r:"10",stroke:"#ccc","stroke-width":"2"}),e("path",{d:"M9 12L11 14L15 10",stroke:"#ccc","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),e("h3",null,"No Closed Bookings",-1),e("p",null,"You don't have any closed service bookings yet.",-1)])])):(r(),l("div",Es,[(r(!0),l(N,null,P(p.value,n=>(r(),l("div",{key:n.id,class:"booking-card",onClick:g=>a(n)},[e("div",Fs,[e("h3",zs,o(n.serviceName),1),e("div",Js,[e("span",Ys,o(n.status),1),D(n)>0?(r(),l("div",Ks,o(D(n)),1)):f("",!0)])]),e("div",Ws,[e("p",Xs,o(n.categoryName),1),e("p",qs,o(v(n.selectedDate)),1),e("p",Qs,"EGP "+o(n.servicePrice),1)]),e("div",et,[e("span",st,o(Z(n)),1),e("span",tt,o(U(n.lastMessageAt)),1)])],8,Gs))),128))]))])):f("",!0)]),J(Ue,{isOpen:d.value,booking:M.value,onClose:s,onOpenChat:T},null,8,["isOpen","booking"])]))}}),lt=G(ot,[["__scopeId","data-v-820c465f"]]);export{lt as default};
