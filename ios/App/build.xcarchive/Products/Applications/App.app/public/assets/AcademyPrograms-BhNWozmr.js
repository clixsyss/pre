import{aC as S,aD as V,b1 as I,u as T,r as k,c as p,aE as N,aF as L,aG as n,aH as i,aS as H,aT as E,aI as e,aJ as r,aK as f,aL as $,aM as F,aN as l,aQ as h}from"./index-BYuuB5GE.js";const O={class:"academy-programs-page"},G={key:0,class:"loading-state"},Z={key:1,class:"error-state"},K={key:2,class:"no-project-state"},R={key:3,class:"no-programs-state"},z={key:4,class:"programs-content"},J={class:"programs-section"},Q={class:"section-title"},U={class:"section-subtitle"},q={class:"programs-list"},W=["onClick"],X={class:"program-basic-info"},Y={class:"program-name"},D={class:"program-sport"},ee={class:"program-academy"},se={class:"academy-name"},te={key:0,class:"program-details"},oe={class:"details-pills-grid"},re={key:0,class:"detail-pill"},ne={key:1,class:"detail-pill"},ie={key:2,class:"detail-pill"},le={key:3,class:"detail-pill location-pill"},ae={class:"details-row"},ce={key:0,class:"schedule-card-compact"},de={class:"compact-content"},pe={key:0,class:"more-tag"},ue={key:1,class:"coaches-card-compact"},me={class:"compact-content"},he={key:0},ge={key:0,class:"description-card-compact"},ve={class:"program-action-footer"},we={class:"price-display"},ye={class:"price-amount"},ke={class:"price-label"},Ce=["onClick"],_e=Object.assign({name:"AcademyProgramsPage"},{__name:"AcademyPrograms",setup(fe){const b=V(),C=I(),j=T(),g=k(!1),c=k(null),d=k(null),v=p(()=>C.academyOptions),w=p(()=>j.selectedProject),u=p(()=>w.value?.id),_=p(()=>w.value?.name),m=p(()=>{if(!v.value||v.value.length===0)return[];const o=[];return v.value.forEach(t=>{t.programs&&t.programs.length>0&&t.programs.forEach(s=>{o.push({academy:t,academyId:t.id,program:s})})}),o}),y=async()=>{if(!u.value){c.value="No project selected";return}g.value=!0,c.value=null;try{await C.fetchAcademies(u.value)}catch(o){console.error("Error fetching academies:",o),c.value="Failed to load academies. Please try again."}finally{g.value=!1}},P=o=>{const t=`${o.academyId}-${o.program.id||o.program.name}`;d.value===t?d.value=null:d.value=t},M=o=>{b.push(`/academy-registration/${o.academyId}/${o.program.id||o.program.name}`)},B=o=>({"per-session":"/session","per-week":"/week","per-month":"/month","per-term":"/term","one-time":"one-time"})[o]||"/month",x=o=>({"per-week":"weeks","per-month":"months","per-term":"terms"})[o]||"months";return N(()=>{u.value?y():c.value="No project selected. Please select a project first."}),L(w,o=>{o?.id&&y()}),(o,t)=>(i(),n("div",O,[H(E,{title:o.$t("academyProgramsTitle"),subtitle:_.value?`${o.$t("joinAcademiesIn")} ${_.value}`:o.$t("chooseAcademyProgram")},null,8,["title","subtitle"]),g.value?(i(),n("div",G,[t[1]||(t[1]=e("div",{class:"loading-spinner"},null,-1)),e("p",null,r(o.$t("loadingPrograms")),1)])):c.value?(i(),n("div",Z,[t[2]||(t[2]=e("div",{class:"error-icon"},"⚠️",-1)),e("p",null,r(c.value),1),e("button",{onClick:y,class:"retry-btn"},r(o.$t("tryAgain")),1)])):u.value?m.value.length===0?(i(),n("div",R,[t[4]||(t[4]=e("div",{class:"no-programs-icon"},"📚",-1)),e("h3",null,r(o.$t("noProgramsAvailable")),1),e("p",null,r(o.$t("noProgramsMessage")),1),e("p",null,r(o.$t("contactAdminForPrograms")),1)])):(i(),n("div",z,[e("div",J,[e("h2",Q,r(o.$t("availablePrograms")),1),e("p",U,r(m.value.length)+" "+r(m.value.length!==1?o.$t("programsAvailable"):o.$t("programAvailable")),1),e("div",q,[(i(!0),n(f,null,$(m.value,s=>(i(),n("div",{key:`${s.academyId}-${s.program.id||s.program.name}`,class:F(["program-item",{expanded:d.value===`${s.academyId}-${s.program.id||s.program.name}`}])},[e("div",{class:"program-header",onClick:a=>P(s)},[e("div",X,[e("h3",Y,r(s.program.name),1),e("span",D,r(s.program.category||"Sports"),1)]),e("div",ee,[e("span",se,r(s.academy.name),1),t[5]||(t[5]=e("div",{class:"expand-icon"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M6 9L12 15L18 9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))])],8,W),d.value===`${s.academyId}-${s.program.id||s.program.name}`?(i(),n("div",te,[e("div",oe,[s.program.ageGroup?(i(),n("div",re,[t[6]||(t[6]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("circle",{cx:"12",cy:"8",r:"4",stroke:"currentColor","stroke-width":"2"}),e("path",{d:"M6 21V19C6 17.3431 7.34315 16 9 16H15C16.6569 16 18 17.3431 18 19V21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)),e("span",null,r(s.program.ageGroup),1)])):l("",!0),s.program.duration&&(s.program.pricingType==="per-month"||s.program.pricingType==="per-week"||s.program.pricingType==="per-term")?(i(),n("div",ne,[t[7]||(t[7]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"}),e("path",{d:"M12 6V12L16 14",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)),e("span",null,r(s.program.duration)+" "+r(x(s.program.pricingType)),1)])):l("",!0),s.program.maxCapacity?(i(),n("div",ie,[t[8]||(t[8]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M17 21V19C17 16.7909 15.2091 15 13 15H5C2.79086 15 1 16.7909 1 19V21M13 7C13 9.20914 11.2091 11 9 11C6.79086 11 5 9.20914 5 7C5 4.79086 6.79086 3 9 3C11.2091 3 13 4.79086 13 7Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)),e("span",null,r(s.program.maxCapacity)+" spots",1)])):l("",!0),s.academy.location?(i(),n("div",le,[t[9]||(t[9]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 5.02944 7.02944 1 12 1C16.9706 1 21 5.02944 21 10Z",stroke:"currentColor","stroke-width":"2"}),e("circle",{cx:"12",cy:"10",r:"3",stroke:"currentColor","stroke-width":"2"})],-1)),e("span",null,r(s.academy.location),1)])):l("",!0)]),e("div",ae,[s.program.timeSlotsByDay&&Object.keys(s.program.timeSlotsByDay).length>0?(i(),n("div",ce,[t[10]||(t[10]=e("div",{class:"compact-header"},[e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",stroke:"currentColor","stroke-width":"2"}),e("path",{d:"M16 2V6M8 2V6M3 10H21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})]),h(" Schedule ")],-1)),e("div",de,[(i(!0),n(f,null,$(Object.entries(s.program.timeSlotsByDay).slice(0,2),([a,A])=>(i(),n("span",{key:a,class:"day-tag"},r(a.substring(0,3))+": "+r(A[0]?.startTime),1))),128)),Object.keys(s.program.timeSlotsByDay).length>2?(i(),n("span",pe," +"+r(Object.keys(s.program.timeSlotsByDay).length-2),1)):l("",!0)])])):l("",!0),s.program.coaches&&s.program.coaches.length>0?(i(),n("div",ue,[t[11]||(t[11]=e("div",{class:"compact-header"},[e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M17 21V19C17 16.7909 15.2091 15 13 15H5C2.79086 15 1 16.7909 1 19V21M23 21V19C23 16.7909 21.2091 15 19 15M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})]),h(" Coaches ")],-1)),e("div",me,[h(r(s.program.coaches.slice(0,2).map(a=>typeof a=="object"?a.name:a).join(", "))+" ",1),s.program.coaches.length>2?(i(),n("span",he,"...")):l("",!0)])])):l("",!0)]),s.program.description?(i(),n("div",ge,[e("p",null,r(s.program.description.length>120?s.program.description.substring(0,120)+"...":s.program.description),1)])):l("",!0),e("div",ve,[e("div",we,[e("span",ye,r(s.program.price)+" EGP",1),e("span",ke,r(B(s.program.pricingType)),1)]),e("button",{onClick:a=>M(s),class:"register-button-compact"},[...t[12]||(t[12]=[h(" Register Now ",-1),e("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M5 12H19M19 12L12 5M19 12L12 19",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])],8,Ce)])])):l("",!0)],2))),128))])])])):(i(),n("div",K,[t[3]||(t[3]=e("div",{class:"no-project-icon"},"🏗️",-1)),e("h3",null,r(o.$t("noProjectSelected")),1),e("p",null,r(o.$t("selectProjectForAcademy")),1),e("button",{onClick:t[0]||(t[0]=s=>o.$router.push("/project-selection")),class:"select-project-btn"},r(o.$t("switchProject")),1)]))]))}}),be=S(_e,[["__scopeId","data-v-9072ad2e"]]);export{be as default};
