import{aC as ye,aD as _e,aR as be,u as Ce,aY as xe,r as h,c as se,aE as Me,aF as oe,aG as r,aH as l,aS as Se,aI as e,aU as S,aN as g,aT as Ne,aM as p,aJ as i,aZ as ne,aV as re,a_ as le,aK as L,aL as I,aX as Q,aQ as b,aW as je,a$ as Le,f as P,o as Ie}from"./index-BYuuB5GE.js";const Pe={class:"stores-shopping-page"},Be={class:"tab-container"},Oe={class:"tab-buttons"},Ae={key:0,class:"orders-badge"},De={class:"tab-content"},Fe={class:"search-section"},Ve={class:"search-bar"},$e=["placeholder"],He={class:"filters"},Te={value:"all"},Re={value:"food"},Ee={value:"drinks"},ze={value:"desserts"},qe={class:"stores-section"},Ue={key:0,class:"loading-state"},Ge={key:1,class:"empty-state"},Ze={key:2,class:"stores-grid"},Qe=["onClick"],We={class:"store-image-container"},Je={class:"store-image"},Ke=["src","alt"],Xe={key:1,class:"store-placeholder"},Ye={class:"quick-actions"},et=["onClick"],tt={class:"store-info"},st={class:"store-header"},ot={class:"store-name"},nt={class:"rating"},rt={class:"stars"},lt={class:"rating-info"},it={class:"rating-text"},at={class:"review-count"},dt={class:"store-location"},ct={class:"store-meta"},ut={class:"meta-item delivery-time"},vt={key:0,class:"meta-item delivery-fee"},ht={key:1,class:"meta-item free-delivery"},gt={key:0,class:"store-tags"},pt={key:0,class:"tag more"},wt={class:"tab-content"},mt={class:"orders-section"},kt={class:"orders-header"},ft=["disabled"],yt={key:0},_t={key:1},bt={class:"orders-stats"},Ct={class:"stat-card"},xt={class:"stat-content"},Mt={class:"stat-number"},St={class:"stat-card"},Nt={class:"stat-content"},jt={class:"stat-number"},Lt={class:"stat-card"},It={class:"stat-content"},Pt={class:"stat-number"},Bt={class:"orders-list"},Ot={key:0,class:"loading-state"},At={key:1,class:"empty-orders"},Dt={key:2,class:"orders-container"},Ft=["onClick"],Vt={class:"order-header"},$t={class:"order-info"},Ht={class:"order-number"},Tt={class:"order-date"},Rt={class:"order-status"},Et={class:"order-content"},zt={class:"order-items"},qt={class:"items-preview"},Ut={class:"items-count"},Gt={class:"items-total"},Zt={key:0,class:"store-name"},Qt={class:"order-progress"},Wt={class:"progress-track"},Jt={class:"order-footer"},Kt={class:"order-actions"},Xt=["onClick"],Yt={key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},es={key:1,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ts=["onClick"],ss={class:"modal-header"},os={class:"header-content"},ns={class:"order-id"},rs={key:0,class:"modal-body"},ls={class:"status-card"},is={class:"status-info"},as={key:0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ds={key:1,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},cs={key:2,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},us={key:3,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vs={class:"status-details"},hs={class:"summary-grid"},gs={class:"summary-card"},ps={class:"card-content"},ws={class:"card-value"},ms={class:"summary-card"},ks={class:"card-content"},fs={class:"card-value"},ys={class:"summary-card"},_s={class:"card-content"},bs={class:"card-value"},Cs={class:"summary-card total"},xs={class:"card-content"},Ms={class:"card-value"},Ss={key:0,class:"info-section"},Ns={class:"info-card"},js={class:"info-item"},Ls={class:"info-value"},Is={key:0,class:"info-item"},Ps={class:"info-value"},Bs={class:"info-section"},Os={class:"items-container"},As={class:"item-main"},Ds={class:"item-name"},Fs={class:"item-price"},Vs={class:"item-details"},$s={class:"quantity"},Hs={class:"item-total"},Ts={class:"info-section"},Rs={class:"timeline-container"},Es={class:"timeline-item completed"},zs={class:"timeline-content"},qs={class:"timeline-time"},Us={class:"timeline-content"},Gs={class:"timeline-time"},Zs={class:"modal-header"},Qs={class:"header-content"},Ws={class:"order-id"},Js={class:"modal-body"},Ks={key:0,class:"cancel-warning"},Xs={key:1,class:"store-call-warning"},Ys={key:2,class:"store-contact"},eo={class:"contact-card"},to={class:"contact-item"},so={class:"contact-details"},oo={class:"contact-value"},no={class:"contact-item"},ro={class:"contact-details"},lo=["href"],io={key:1,class:"contact-value no-phone"},ao={key:0,class:"contact-item"},co={class:"contact-details"},uo={class:"contact-value"},vo={class:"cancel-reasons"},ho={class:"reasons-list"},go=["value"],po={class:"reason-content"},wo={class:"reason-title"},mo={class:"reason-description"},ko={key:3,class:"custom-reason"},fo={class:"modal-actions"},yo=["disabled"],_o=["href"],bo=Object.assign({name:"StoresShoppingPage"},{__name:"StoresShopping",setup(Co){const ie=_e(),W=be(),k=Ce(),J=xe(),w=h([]),_=h([]),V=h(!1),B=h(!1),A=h(""),$=h("all"),H=h("rating"),C=h(W.query.tab||"stores"),T=h(!1),a=h(null),N=h(new Set),R=h(!1),d=h(null),f=h(""),M=h(""),ae=h([{id:"changed_mind",title:"Changed my mind",description:"I no longer want this order"},{id:"found_elsewhere",title:"Found it elsewhere",description:"I found the same items at a better price"},{id:"delivery_issue",title:"Delivery issue",description:"There's a problem with delivery timing"},{id:"wrong_order",title:"Wrong order",description:"I placed the wrong order by mistake"},{id:"price_issue",title:"Price issue",description:"The price is different than expected"},{id:"other",title:"Other reason",description:"Please specify below"}]),K=se(()=>{let s=w.value;if(A.value){const t=A.value.toLowerCase();s=s.filter(o=>o.name.toLowerCase().includes(t)||o.location.toLowerCase().includes(t))}switch($.value,H.value){case"rating":s=[...s].sort((t,o)=>(o.rating||0)-(t.rating||0));break;case"delivery":s=[...s].sort((t,o)=>{const n=parseInt(t.averageDeliveryTime)||0,y=parseInt(o.averageDeliveryTime)||0;return n-y});break;case"name":s=[...s].sort((t,o)=>t.name.localeCompare(o.name));break}return s}),X=se(()=>{const s=_.value.filter(t=>t.status!=="delivered"&&t.status!=="completed");return console.log("Active orders count:",s.length,"All orders:",_.value),s.length}),de=async()=>{if(console.log("Fetching stores..."),console.log("Selected project:",k.selectedProject),!k.selectedProject?.id){console.log("No project selected, cannot fetch stores");return}try{V.value=!0;const s=`projects/${k.selectedProject.id}/stores`;console.log("Stores collection path:",s);const t=await P.getDocs(s);console.log("Stores query result:",t.docs.length,"stores found");const o=await Promise.all(t.docs.map(async n=>{const y=n.data();try{const c=`projects/${k.selectedProject.id}/ratings`,v={filters:[{field:"storeId",operator:"==",value:n.id}],timeoutMs:6e3},x=(await P.getDocs(c,v)).docs.map(u=>u.data().rating),F=x.length>0?x.reduce((u,Z)=>u+Z,0)/x.length:0;return{id:n.id,...y,rating:parseFloat(F.toFixed(1)),reviewCount:x.length}}catch(c){return console.error("Error fetching ratings for store:",n.id,c),{id:n.id,...y,rating:0,reviewCount:0}}}));w.value=o,console.log("Stores loaded with ratings:",w.value)}catch(s){console.error("Error fetching stores:",s)}finally{V.value=!1}},Y=async()=>{console.log("Fetching user orders..."),console.log("Selected project:",k.selectedProject);const s=await Ie.getCurrentUser();if(console.log("Current user:",s),!k.selectedProject?.id){console.log("No project selected, cannot fetch orders");return}if(!s){console.log("No user authenticated, cannot fetch orders");return}try{B.value=!0;const t=`projects/${k.selectedProject.id}/orders`;console.log("Orders collection path:",t);const o={filters:[{field:"userId",operator:"==",value:s.uid}],orderBy:[{field:"createdAt",direction:"desc"}],timeoutMs:6e3},n=await P.getDocs(t,o);console.log("Orders query result:",n.docs.length,"orders found");const y=await Promise.all(n.docs.map(async c=>{const v=c.data();if(v.storePhone&&v.storeLocation)return{id:c.id,...v};try{if(v.storeId){console.log("Fetching store details for storeId:",v.storeId);const m=`projects/${k.selectedProject.id}/stores`,x={filters:[{field:"__name__",operator:"==",value:v.storeId}],timeoutMs:6e3},F=await P.getDocs(m,x);if(F.docs.length>0){const u=F.docs[0].data();return console.log("Store data found:",u),{id:c.id,...v,storePhone:u.contactInfo?.phone||u.phone||u.phoneNumber,storeLocation:u.location,storeAddress:u.address}}else{console.log("No store found for storeId:",v.storeId);const u=w.value.find(Z=>Z.id===v.storeId);if(u)return console.log("Store found in stores array:",u),{id:c.id,...v,storePhone:u.contactInfo?.phone||u.phone||u.phoneNumber,storeLocation:u.location,storeAddress:u.address}}}else if(console.log("No storeId found in order data:",v),v.storeName){const m=w.value.find(x=>x.name===v.storeName);if(m)return console.log("Store found by name in stores array:",m),{id:c.id,...v,storePhone:m.contactInfo?.phone||m.phone||m.phoneNumber,storeLocation:m.location,storeAddress:m.address}}}catch(m){console.error("Error fetching store details for order:",c.id,m)}return{id:c.id,...v}}));_.value=y,console.log("Orders loaded with store details:",_.value),console.log("Available stores for reference:",w.value)}catch(t){console.error("Error fetching user orders:",t)}finally{B.value=!1}},ce=()=>{Y()},ue=s=>{ie.push(`/store/${s.id}`)},ve=s=>{(!s.status||s.status==="active")&&ue(s)},ee=s=>{a.value=s,T.value=!0},te=()=>{T.value=!1,a.value=null},he=s=>s.status==="pending"||s.status==="processing",E=s=>s.status==="pending",j=s=>s.status==="processing",ge=async s=>{if(console.log("fetchStoreDetailsForOrder called with order:",s),console.log("Available stores:",w.value),!s.storeId&&!s.storeName)return console.log("No storeId or storeName found in order"),s;try{let t=null;if(s.storeId&&(console.log("Looking for store by ID:",s.storeId),t=w.value.find(o=>o.id===s.storeId),console.log("Store found by ID:",t)),!t&&s.storeName&&(console.log("Looking for store by name:",s.storeName),t=w.value.find(o=>o.name===s.storeName),console.log("Store found by name:",t)),t)return console.log("Found store data in stores array:",t),console.log("Store contactInfo:",t.contactInfo),console.log("Store phone:",t.contactInfo?.phone),{...s,storePhone:t.contactInfo?.phone||t.phone||t.phoneNumber,storeLocation:t.location,storeAddress:t.address};if(console.log("Store not found in stores array, trying Firestore..."),s.storeId){const o=`projects/${k.selectedProject.id}/stores`,n={filters:[{field:"__name__",operator:"==",value:s.storeId}],timeoutMs:6e3},y=await P.getDocs(o,n);if(y.docs.length>0){const c=y.docs[0].data();return console.log("Found store data in Firestore:",c),{...s,storePhone:c.contactInfo?.phone||c.phone||c.phoneNumber,storeLocation:c.location,storeAddress:c.address}}}}catch(t){console.error("Error fetching store details for order:",t)}return console.log("No store details found, returning original order"),s},pe=async s=>{if(!s){console.error("Cannot open cancel modal: order is null or undefined");return}console.log("Opening cancel modal for order:",s),console.log("Full order object keys:",Object.keys(s)),console.log("Order store details before fetch:",{storeName:s.storeName,storePhone:s.storePhone,storeLocation:s.storeLocation,storeAddress:s.storeAddress,storeId:s.storeId});let t=await ge(s);if(!t.storePhone&&!t.storeLocation){console.log("No store details found, trying simple fallback..."),console.log("Available stores:",w.value.map(n=>({id:n.id,name:n.name,contactInfo:n.contactInfo})));let o=null;if(s.storeId&&(o=w.value.find(n=>n.id===s.storeId),console.log("Store found by storeId:",o)),!o&&s.storeName&&(o=w.value.find(n=>n.name===s.storeName||n.name?.trim()===s.storeName?.trim()||n.name?.toLowerCase()===s.storeName?.toLowerCase()),console.log("Store found by storeName:",o)),o||(console.log("Trying to find store by any field..."),o=w.value.find(n=>n.name?.includes(s.storeName)||s.storeName?.includes(n.name)||n.id===s.storeId||s.storeId===n.id),console.log("Store found by any field:",o)),o)console.log("Found store in fallback:",o),console.log("Store contactInfo:",o.contactInfo),t={...t,storeName:o.name,storePhone:o.contactInfo?.phone||o.phone||o.phoneNumber,storeLocation:o.location,storeAddress:o.address};else if(console.log("No store found in fallback, using first available store as example"),w.value.length>0){const n=w.value[0];t={...t,storeName:n.name,storePhone:n.contactInfo?.phone||n.phone||n.phoneNumber,storeLocation:n.location,storeAddress:n.address}}}console.log("Order store details after fetch:",{storeName:t.storeName,storePhone:t.storePhone,storeLocation:t.storeLocation,storeAddress:t.storeAddress,storeId:t.storeId}),d.value=t,f.value="",M.value="",R.value=!0},D=()=>{R.value=!1,d.value=null,f.value="",M.value=""},we=async()=>{if(!d.value||!f.value){console.error("Cannot cancel order: missing order or reason");return}try{const s=`projects/${k.selectedProject.id}/orders/${d.value.id}`,t={status:"cancelled",cancellationReason:f.value,cancelledAt:new Date,cancelledBy:"customer"};f.value==="other"&&M.value.trim()&&(t.customCancellationReason=M.value.trim()),await P.updateDoc(s,t);const o=_.value.findIndex(n=>n.id===d.value.id);o!==-1&&(_.value[o]={..._.value[o],...t}),console.log("Order cancelled successfully and saved to database"),J.showSuccess("Order cancelled successfully!"),D()}catch(s){console.error("Error cancelling order:",s),J.showError("Failed to cancel order. Please try again.")}},z=s=>_.value.filter(t=>t.status===s),q=s=>({pending:"status-pending",processing:"status-processing",shipped:"status-shipped",delivered:"status-delivered",cancelled:"status-cancelled"})[s]||"status-pending",U=s=>({pending:"Pending",processing:"Processing",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled"})[s]||"Pending",O=(s,t)=>{const o=["pending","processing","delivered"],n=o.indexOf(s),y=o.indexOf(t);return n>=y},G=s=>{if(!s)return"Unknown date";try{return(s.toDate?s.toDate():new Date(s)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return"Unknown date"}},me=s=>{N.value.has(s.id)?N.value.delete(s.id):N.value.add(s.id),localStorage.setItem("favoriteStores",JSON.stringify(Array.from(N.value)))},ke=s=>N.value.has(s),fe=()=>{const s=localStorage.getItem("favoriteStores");if(s)try{N.value=new Set(JSON.parse(s))}catch(t){console.error("Error loading favorites:",t)}};return Me(()=>{fe()}),oe(()=>k.selectedProject,(s,t)=>{s&&s.id!==t?.id&&(de(),Y())},{immediate:!0}),oe(()=>W.query.tab,s=>{s&&(s==="stores"||s==="orders")&&(C.value=s)}),(s,t)=>(l(),r("div",Pe,[Se(Ne,{title:s.$t("storesShoppingTitle"),subtitle:s.$t("discoverStores")},null,8,["title","subtitle"]),e("div",Be,[e("div",Oe,[e("button",{onClick:t[0]||(t[0]=o=>C.value="stores"),class:p(["tab-btn",{active:C.value==="stores"}])},[t[10]||(t[10]=e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M6 2L3 6V20C3 20.5304 3.21071 21.0391 3.58579 21.4142C3.96086 21.7893 4.46957 22 5 22H19C19.5304 22 20.0391 21.7893 20.4142 21.4142C20.7893 21.0391 21 20.5304 21 20V6L18 2H6Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("span",null,i(s.$t("stores")),1),t[11]||(t[11]=e("div",{class:"tab-indicator"},null,-1))],2),e("button",{onClick:t[1]||(t[1]=o=>C.value="orders"),class:p(["tab-btn",{active:C.value==="orders"}])},[t[12]||(t[12]=e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("span",null,i(s.$t("myOrders")),1),t[13]||(t[13]=e("div",{class:"tab-indicator"},null,-1)),X.value>0?(l(),r("div",Ae,i(X.value),1)):g("",!0)],2)])]),S(e("div",De,[e("div",Fe,[e("div",Ve,[t[14]||(t[14]=e("svg",{class:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("circle",{cx:"11",cy:"11",r:"8",stroke:"currentColor","stroke-width":"2"}),e("path",{d:"M21 21L16.65 16.65",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),S(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>A.value=o),type:"text",placeholder:s.$t("searchStoresProducts"),class:"search-input"},null,8,$e),[[re,A.value]])]),e("div",He,[S(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>$.value=o),class:"filter-select"},[e("option",Te,i(s.$t("allCategories")),1),e("option",Re,i(s.$t("foodBeverage")),1),e("option",Ee,i(s.$t("drinks")),1),e("option",ze,i(s.$t("desserts")),1),t[15]||(t[15]=e("option",{value:"snacks"},"Snacks",-1)),t[16]||(t[16]=e("option",{value:"meals"},"Meals",-1)),t[17]||(t[17]=e("option",{value:"other"},"Other",-1))],512),[[le,$.value]]),S(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>H.value=o),class:"filter-select"},[...t[18]||(t[18]=[e("option",{value:"rating"},"Best Rated",-1),e("option",{value:"delivery"},"Fastest Delivery",-1),e("option",{value:"name"},"Name A-Z",-1)])],512),[[le,H.value]])])]),e("div",qe,[t[29]||(t[29]=e("h2",{class:"section-title"},"Available Stores",-1)),V.value?(l(),r("div",Ue,[...t[19]||(t[19]=[e("div",{class:"spinner"},null,-1),e("p",null,"Loading stores...",-1)])])):K.value.length===0?(l(),r("div",Ge,[...t[20]||(t[20]=[e("svg",{class:"empty-icon",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M6 2L3 6V20C3 20.5304 3.21071 21.0391 3.58579 21.4142C3.96086 21.7893 4.46957 22 5 22H19C19.5304 22 20.0391 21.7893 20.4142 21.4142C20.7893 21.0391 21 20.5304 21 20V6L18 2H6Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),e("h3",null,"No stores found",-1),e("p",null,"Try adjusting your search or filters",-1)])])):(l(),r("div",Ze,[(l(!0),r(L,null,I(K.value,o=>(l(),r("div",{key:o.id,class:p(["store-card",{inactive:o.status&&o.status!=="active"}]),onClick:n=>ve(o)},[e("div",We,[e("div",Je,[o.image?(l(),r("img",{key:0,src:o.image,alt:o.name},null,8,Ke)):(l(),r("div",Xe,[...t[21]||(t[21]=[e("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M6 2L3 6V20C3 20.5304 3.21071 21.0391 3.58579 21.4142C3.96086 21.7893 4.46957 22 5 22H19C19.5304 22 20.0391 21.7893 20.4142 21.4142C20.7893 21.0391 21 20.5304 21 20V6L18 2H6Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]))]),o.status&&o.status!=="active"?(l(),r("div",{key:0,class:p(["status-badge",o.status])},[t[22]||(t[22]=e("div",{class:"status-dot"},null,-1)),e("span",null,i(o.status==="inactive"?"CLOSED":"MAINTENANCE"),1)],2)):g("",!0),e("div",Ye,[e("button",{class:p(["action-btn",{active:ke(o.id)}]),onClick:Q(n=>me(o),["stop"])},[...t[23]||(t[23]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})],-1)])],10,et)])]),e("div",tt,[e("div",st,[e("h3",ot,i(o.name),1),e("div",nt,[e("div",rt,[(l(),r(L,null,I(5,n=>e("svg",{key:n,class:p(["star",{filled:n<=(o.rating||0)}]),width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor"},[...t[24]||(t[24]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)])],2)),64))]),e("div",lt,[e("span",it,i((o.rating||0).toFixed(1)),1),e("span",at,i((o.reviewCount||0)===0?"No reviews yet":`(${o.reviewCount} reviews)`),1)])])]),e("p",dt,[t[25]||(t[25]=e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z",stroke:"currentColor","stroke-width":"2"}),e("circle",{cx:"12",cy:"10",r:"3",stroke:"currentColor","stroke-width":"2"})],-1)),b(" "+i(o.location),1)]),e("div",ct,[e("div",ut,[t[26]||(t[26]=e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"}),e("polyline",{points:"12,6 12,12 16,14",stroke:"currentColor","stroke-width":"2"})],-1)),e("span",null,i(o.averageDeliveryTime),1)]),o.deliveryFee?(l(),r("div",vt,[t[27]||(t[27]=e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 1v22M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("span",null,"EGP"+i(o.deliveryFee),1)])):(l(),r("div",ht,[...t[28]||(t[28]=[e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M9 12l2 2 4-4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),e("span",null,"Free delivery",-1)])]))]),o.categories&&o.categories.length>0?(l(),r("div",gt,[(l(!0),r(L,null,I(o.categories.slice(0,3),n=>(l(),r("span",{key:n,class:"tag"},i(n),1))),128)),o.categories.length>3?(l(),r("span",pt," +"+i(o.categories.length-3),1)):g("",!0)])):g("",!0)])],10,Qe))),128))]))])],512),[[ne,C.value==="stores"]]),S(e("div",wt,[e("div",mt,[e("div",kt,[t[31]||(t[31]=e("h2",{class:"section-title"},"Order History",-1)),e("button",{onClick:ce,class:"refresh-btn",disabled:B.value},[t[30]||(t[30]=e("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),B.value?(l(),r("span",_t,"Refreshing...")):(l(),r("span",yt,"Refresh"))],8,ft)]),e("div",bt,[e("div",Ct,[t[33]||(t[33]=e("div",{class:"stat-icon pending"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"}),e("polyline",{points:"12,6 12,12 16,14",stroke:"currentColor","stroke-width":"2"})])],-1)),e("div",xt,[e("span",Mt,i(z("pending").length),1),t[32]||(t[32]=e("span",{class:"stat-label"},"Pending",-1))])]),e("div",St,[t[35]||(t[35]=e("div",{class:"stat-icon processing"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("div",Nt,[e("span",jt,i(z("processing").length),1),t[34]||(t[34]=e("span",{class:"stat-label"},"Processing",-1))])]),e("div",Lt,[t[37]||(t[37]=e("div",{class:"stat-icon delivered"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("div",It,[e("span",Pt,i(z("delivered").length),1),t[36]||(t[36]=e("span",{class:"stat-label"},"Delivered",-1))])])]),e("div",Bt,[B.value?(l(),r("div",Ot,[...t[38]||(t[38]=[e("div",{class:"spinner"},null,-1),e("p",null,"Loading orders...",-1)])])):_.value.length===0?(l(),r("div",At,[t[39]||(t[39]=e("div",{class:"empty-orders-icon"},[e("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),t[40]||(t[40]=e("h3",null,"No orders yet",-1)),t[41]||(t[41]=e("p",null,"Start shopping to see your order history here",-1)),e("button",{onClick:t[5]||(t[5]=o=>C.value="stores"),class:"start-shopping-btn"}," Browse Stores ")])):(l(),r("div",Dt,[(l(!0),r(L,null,I(_.value,o=>(l(),r("div",{key:o.id,class:"order-card",onClick:n=>ee(o)},[e("div",Vt,[e("div",$t,[e("h4",Ht,"#"+i(o.orderNumber||o.id.slice(-6)),1),e("span",Tt,i(G(o.createdAt)),1)]),e("div",Rt,[e("span",{class:p(["status-badge",q(o.status)])},i(U(o.status)),3)])]),e("div",Et,[e("div",zt,[e("div",qt,[e("span",Ut,i(o.items?.length||0)+" items",1),e("span",Gt,"EGP"+i((o.total||0).toFixed(2)),1)]),o.storeName?(l(),r("div",Zt,[t[42]||(t[42]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),b(" "+i(o.storeName),1)])):g("",!0)]),e("div",Qt,[e("div",Wt,[e("div",{class:p(["progress-step",{completed:O(o.status,"pending")}])},[...t[43]||(t[43]=[e("div",{class:"step-icon"},[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),e("span",{class:"step-label"},"Ordered",-1)])],2),e("div",{class:p(["progress-step",{completed:O(o.status,"processing")}])},[...t[44]||(t[44]=[e("div",{class:"step-icon"},[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),e("span",{class:"step-label"},"Processing",-1)])],2),e("div",{class:p(["progress-step",{completed:O(o.status,"delivered")}])},[...t[45]||(t[45]=[e("div",{class:"step-icon"},[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M20 7L10 17L5 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),e("span",{class:"step-label"},"Delivered",-1)])],2)])])]),e("div",Jt,[e("div",Kt,[he(o)?(l(),r("button",{key:0,onClick:n=>pe(o),class:p(["cancel-btn",{"processing-cancel":j(o)}])},[E(o)?(l(),r("svg",Yt,[...t[46]||(t[46]=[e("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):(l(),r("svg",es,[...t[47]||(t[47]=[e("path",{d:"M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])),b(" "+i(j(o)?"Call Store to Cancel":"Cancel Order"),1)],10,Xt)):g("",!0),e("button",{class:"view-details-btn",onClick:n=>ee(o)},[...t[48]||(t[48]=[b(" View Details ",-1),e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M9 18l6-6-6-6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])],8,ts)])])],8,Ft))),128))]))])])],512),[[ne,C.value==="orders"]]),T.value?(l(),r("div",{key:0,class:"modal-overlay",onClick:te},[e("div",{class:"modal-content",onClick:t[6]||(t[6]=Q(()=>{},["stop"]))},[e("div",ss,[e("div",os,[t[49]||(t[49]=e("h2",null,"Order Details",-1)),e("p",ns,"#"+i(a.value?.orderNumber||a.value?.id?.slice(-6)),1)]),e("button",{class:"close-btn",onClick:te},[...t[50]||(t[50]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])]),a.value?(l(),r("div",rs,[e("div",ls,[e("div",is,[e("div",{class:p(["status-icon",q(a.value.status)])},[a.value.status==="pending"?(l(),r("svg",as,[...t[51]||(t[51]=[e("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"},null,-1),e("polyline",{points:"12,6 12,12 16,14",stroke:"currentColor","stroke-width":"2"},null,-1)])])):a.value.status==="processing"?(l(),r("svg",ds,[...t[52]||(t[52]=[e("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):a.value.status==="delivered"?(l(),r("svg",cs,[...t[53]||(t[53]=[e("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):(l(),r("svg",us,[...t[54]||(t[54]=[e("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"},null,-1),e("polyline",{points:"12,6 12,12 16,14",stroke:"currentColor","stroke-width":"2"},null,-1)])]))],2),e("div",vs,[e("h3",null,i(U(a.value.status)),1),e("p",null,i(G(a.value.createdAt)),1)])]),e("div",{class:p(["status-badge",q(a.value.status)])},i(U(a.value.status)),3)]),e("div",hs,[e("div",gs,[t[56]||(t[56]=e("div",{class:"card-icon"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("div",ps,[t[55]||(t[55]=e("span",{class:"card-label"},"Items",-1)),e("span",ws,i(a.value.items?.length||0),1)])]),e("div",ms,[t[58]||(t[58]=e("div",{class:"card-icon"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 1v22M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("div",ks,[t[57]||(t[57]=e("span",{class:"card-label"},"Subtotal",-1)),e("span",fs,"EGP"+i((a.value.subtotal||0).toFixed(2)),1)])]),e("div",ys,[t[60]||(t[60]=e("div",{class:"card-icon"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M16 3h5v5M21 3l-7 7M8 21l-5-5v-5h5l5 5z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("div",_s,[t[59]||(t[59]=e("span",{class:"card-label"},"Delivery",-1)),e("span",bs,i(a.value.deliveryFee?`EGP${a.value.deliveryFee.toFixed(2)}`:"Free"),1)])]),e("div",Cs,[t[62]||(t[62]=e("div",{class:"card-icon"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 1v22M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("div",xs,[t[61]||(t[61]=e("span",{class:"card-label"},"Total",-1)),e("span",Ms,"$"+i((a.value.total||0).toFixed(2)),1)])])]),a.value.storeName?(l(),r("div",Ss,[t[65]||(t[65]=e("h3",{class:"section-title"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M6 2L3 6V20C3 20.5304 3.21071 21.0391 3.58579 21.4142C3.96086 21.7893 4.46957 22 5 22H19C19.5304 22 20.0391 21.7893 20.4142 21.4142C20.7893 21.0391 21 20.5304 21 20V6L18 2H6Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),b(" Store Information ")],-1)),e("div",Ns,[e("div",js,[t[63]||(t[63]=e("span",{class:"info-label"},"Store Name",-1)),e("span",Ls,i(a.value.storeName),1)]),a.value.location?(l(),r("div",Is,[t[64]||(t[64]=e("span",{class:"info-label"},"Location",-1)),e("span",Ps,i(a.value.location),1)])):g("",!0)])])):g("",!0),e("div",Bs,[t[66]||(t[66]=e("h3",{class:"section-title"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),b(" Order Items ")],-1)),e("div",Os,[(l(!0),r(L,null,I(a.value.items,o=>(l(),r("div",{key:o.productId,class:"item-card"},[e("div",As,[e("div",Ds,i(o.productName),1),e("div",Fs,"EGP "+i((o.price||0).toFixed(2)),1)]),e("div",Vs,[e("span",$s,"Qty: "+i(o.quantity),1),e("span",Hs,"EGP "+i(((o.price||0)*(o.quantity||0)).toFixed(2)),1)])]))),128))])]),e("div",Ts,[t[72]||(t[72]=e("h3",{class:"section-title"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"}),e("polyline",{points:"12,6 12,12 16,14",stroke:"currentColor","stroke-width":"2"})]),b(" Order Progress ")],-1)),e("div",Rs,[e("div",Es,[t[68]||(t[68]=e("div",{class:"timeline-dot"},[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("div",zs,[t[67]||(t[67]=e("div",{class:"timeline-title"},"Order Placed",-1)),e("div",qs,i(G(a.value.createdAt)),1)])]),e("div",{class:p(["timeline-item",{completed:O(a.value.status,"processing")}])},[...t[69]||(t[69]=[je('<div class="timeline-dot" data-v-0bb0b6b5><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-0bb0b6b5><path d="M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-0bb0b6b5></path></svg></div><div class="timeline-content" data-v-0bb0b6b5><div class="timeline-title" data-v-0bb0b6b5>Processing</div><div class="timeline-time" data-v-0bb0b6b5>In progress</div></div>',2)])],2),e("div",{class:p(["timeline-item",{completed:O(a.value.status,"delivered")}])},[t[71]||(t[71]=e("div",{class:"timeline-dot"},[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M20 7L10 17L5 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("div",Us,[t[70]||(t[70]=e("div",{class:"timeline-title"},"Delivered",-1)),e("div",Gs,"Estimated: "+i(a.value.estimatedDelivery||"TBD"),1)])],2)])])])):g("",!0)])])):g("",!0),R.value?(l(),r("div",{key:1,class:"modal-overlay",onClick:D},[e("div",{class:"modal-content cancel-modal",onClick:t[9]||(t[9]=Q(()=>{},["stop"]))},[e("div",Zs,[e("div",Qs,[t[73]||(t[73]=e("h2",null,"Cancel Order",-1)),e("p",Ws,"#"+i(d.value?.orderNumber||d.value?.id?.slice(-6)),1)]),e("button",{class:"close-btn",onClick:D},[...t[74]||(t[74]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])]),e("div",Js,[E(d.value)?(l(),r("div",Ks,[...t[75]||(t[75]=[e("div",{class:"warning-icon"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),e("div",{class:"warning-content"},[e("h3",null,"Are you sure you want to cancel this order?"),e("p",null,"This action cannot be undone. Please select a reason for cancellation.")],-1)])])):j(d.value)?(l(),r("div",Xs,[...t[76]||(t[76]=[e("div",{class:"warning-icon phone-icon"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),e("div",{class:"warning-content"},[e("h3",null,"Order is being processed"),e("p",null,"This order is currently being prepared by the store. To cancel, please call the store directly.")],-1)])])):g("",!0),j(d.value)?(l(),r("div",Ys,[t[83]||(t[83]=e("h4",null,"Store Contact Information",-1)),e("div",eo,[e("div",to,[t[78]||(t[78]=e("div",{class:"contact-icon"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M6 2L3 6V20C3 20.5304 3.21071 21.0391 3.58579 21.4142C3.96086 21.7893 4.46957 22 5 22H19C19.5304 22 20.0391 21.7893 20.4142 21.4142C20.7893 21.0391 21 20.5304 21 20V6L18 2H6Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("div",so,[t[77]||(t[77]=e("span",{class:"contact-label"},"Store Name",-1)),e("span",oo,i(d.value.storeName||"Loading..."),1)])]),e("div",no,[t[80]||(t[80]=e("div",{class:"contact-icon"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("div",ro,[t[79]||(t[79]=e("span",{class:"contact-label"},"Phone Number",-1)),d.value.storePhone?(l(),r("a",{key:0,href:`tel:${d.value.storePhone}`,class:"contact-value phone-link"},i(d.value.storePhone),9,lo)):(l(),r("span",io," Phone number not available "))])]),d.value.storeLocation||d.value.storeAddress?(l(),r("div",ao,[t[82]||(t[82]=e("div",{class:"contact-icon"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z",stroke:"currentColor","stroke-width":"2"}),e("circle",{cx:"12",cy:"10",r:"3",stroke:"currentColor","stroke-width":"2"})])],-1)),e("div",co,[t[81]||(t[81]=e("span",{class:"contact-label"},"Location",-1)),e("span",uo,i(d.value.storeLocation||d.value.storeAddress||"Location not available"),1)])])):g("",!0)])])):g("",!0),e("div",vo,[t[84]||(t[84]=e("h4",null,"Reason for cancellation:",-1)),e("div",ho,[(l(!0),r(L,null,I(ae.value,o=>(l(),r("label",{key:o.id,class:p(["reason-option",{selected:f.value===o.id}])},[S(e("input",{type:"radio",value:o.id,"onUpdate:modelValue":t[7]||(t[7]=n=>f.value=n),class:"reason-radio"},null,8,go),[[Le,f.value]]),e("div",po,[e("span",wo,i(o.title),1),e("span",mo,i(o.description),1)])],2))),128))])]),f.value==="other"?(l(),r("div",ko,[t[85]||(t[85]=e("label",{for:"customReason"},"Please specify:",-1)),S(e("textarea",{id:"customReason","onUpdate:modelValue":t[8]||(t[8]=o=>M.value=o),placeholder:"Tell us why you're cancelling this order...",class:"custom-reason-input",rows:"3"},null,512),[[re,M.value]])])):g("",!0),e("div",fo,[e("button",{onClick:D,class:"cancel-action-btn"},i(j(d.value)?"Close":"Keep Order"),1),E(d.value)?(l(),r("button",{key:0,onClick:we,class:"confirm-cancel-btn",disabled:!f.value||f.value==="other"&&!M.value.trim()},[...t[86]||(t[86]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),b(" Cancel Order ",-1)])],8,yo)):j(d.value)&&d.value.storePhone?(l(),r("a",{key:1,href:`tel:${d.value.storePhone}`,class:"call-store-btn"},[...t[87]||(t[87]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),b(" Call Store ",-1)])],8,_o)):g("",!0)])])])])):g("",!0)]))}}),Mo=ye(bo,[["__scopeId","data-v-0bb0b6b5"]]);export{Mo as default};
